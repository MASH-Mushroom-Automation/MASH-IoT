## v2.7.0 (2026-02-18) - Analytics API Endpoints
Priority: medium

Complete backend implementation of analytics data endpoints for historical sensor readings, actuator commands, and AI decision logs. Enables mobile app to display comprehensive system analytics and performance metrics.

### New
- `/logs/statistics` endpoint - Aggregated sensor statistics (min/max/avg for temp, humidity, CO2)
- `/logs/sensors` endpoint - Historical sensor readings with time-based filtering (1-720 hours)
- `/logs/actuators` endpoint - Device command history for automation tracking
- `/logs/ai-decisions` endpoint - ML automation decision logs from system_logs table

### Improved
- Enhanced error handling with traceback logging for debugging
- Better database connection validation in all analytics routes
- Safer null value handling in query results (using `is not None` checks)
- Protected JSON parsing for system logs data field
- Added diagnostic logging at each processing step for troubleshooting

### Fixed
- DB_MANAGER not registered in Flask app.config (caused 500 errors on all /logs/* endpoints)
- Database connection checks now properly validate before executing queries
-  Null values in sensor readings no longer cause response failures

### Technical Details
- All endpoints support query parameters: `hours` (time window) and `limit` (max records)
- SQLite queries use indexed timestamp filtering for performance
- Time threshold calculated as `current_time - (hours * 3600)` for consistency
- JSON responses follow `{"success": bool, "data": [...], "count": int}` format
- Compatible with mobile app v1.3.3+ analytics screen implementation

### Mobile App Compatibility
- **Required mobile app version:** v1.3.3+
- Mobile app analytics screen now fully functional with real-time RPi data
- Charts populate with SQLite data when connected via local WiFi
- Falls back to Firebase data when accessing remotely
