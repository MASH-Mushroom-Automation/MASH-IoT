{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="system-info-bar">
    <span>System Status: <span class="status-ok">Online</span></span>
    <span>Uptime: <span id="uptime">--</span></span>
</div>

<div class="room-container">
    <!-- Fruiting Room Section -->
    <div class="room-header">
        <h2 class="room-title">Fruiting Room</h2>
        <div class="room-condition">Condition: <span class="status-ok">Optimal</span></div>
        <div class="actuator-icons">
            <i class="fas fa-wind icon-fan {% if fruiting_actuators.exhaust_fan %}active{% endif %}" title="Exhaust Fan"></i>
            <i class="fas fa-tint icon-mist {% if fruiting_actuators.humidity_system %}active{% endif %}" title="Humidity System"></i>
            <i class="fas fa-arrow-down icon-intake {% if fruiting_actuators.intake_fan %}active{% endif %}" title="Intake Fan"></i>
        </div>
    </div>
    <div class="sensor-grid">
        <div class="sensor-card co2">
            <div class="card-header">
                <i class="fas fa-smog"></i>
                <h3>CO2</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ fruiting_data.co2 | round(1) }}</span>
                <span class="sensor-unit">ppm</span>
            </div>
            <div class="card-footer">
                <span>Target: < {{ fruiting_targets.co2_max }} ppm</span>
            </div>
        </div>
        <div class="sensor-card temp">
            <div class="card-header">
                <i class="fas fa-thermometer-half"></i>
                <h3>Temperature</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ fruiting_data.temp | round(1) }}</span>
                <span class="sensor-unit">째C</span>
            </div>
            <div class="card-footer">
                <span>Target: {{ fruiting_targets.temp_target }}째C</span>
            </div>
        </div>
        <div class="sensor-card humidity">
            <div class="card-header">
                <i class="fas fa-water"></i>
                <h3>Humidity</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ fruiting_data.humidity | round(1) }}</span>
                <span class="sensor-unit">%</span>
            </div>
            <div class="card-footer">
                <span>Target: {{ fruiting_targets.humidity_target }}%</span>
            </div>
        </div>
    </div>

    <!-- Spawning Room Section -->
    <div class="room-header">
        <h2 class="room-title">Spawning Room</h2>
        <div class="room-condition">Condition: <span class="status-ok">Optimal</span></div>
        <div class="actuator-icons">
            <i class="fas fa-wind icon-fan {% if spawning_actuators.exhaust_fan %}active{% endif %}" title="Exhaust Fan"></i>
        </div>
    </div>
    <div class="sensor-grid">
        <div class="sensor-card co2">
            <div class="card-header">
                <i class="fas fa-smog"></i>
                <h3>CO2</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ spawning_data.co2 | round(1) }}</span>
                <span class="sensor-unit">ppm</span>
            </div>
            <div class="card-footer">
                <span>Target: < {{ spawning_targets.co2_max }} ppm</span>
            </div>
        </div>
        <div class="sensor-card temp">
            <div class="card-header">
                <i class="fas fa-thermometer-half"></i>
                <h3>Temperature</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ spawning_data.temp | round(1) }}</span>
                <span class="sensor-unit">째C</span>
            </div>
            <div class="card-footer">
                <span>Target: {{ spawning_targets.temp_target }}째C</span>
            </div>
        </div>
        <div class="sensor-card humidity">
            <div class="card-header">
                <i class="fas fa-water"></i>
                <h3>Humidity</h3>
            </div>
            <div class="card-body">
                <span class="sensor-value">{{ spawning_data.humidity | round(1) }}</span>
                <span class="sensor-unit">%</span>
            </div>
            <div class="card-footer">
                <span>Target: {{ spawning_targets.humidity_target }}%</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
